2025-09-29 14:48:53.752 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-29 14:48:54.590 +02:00 [DBG] Hosting starting
2025-09-29 14:48:54.747 +02:00 [DBG] Middleware loaded
2025-09-29 14:48:55.503 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16517 B).
2025-09-29 14:48:56.737 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-29 14:48:59.078 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-29 14:49:01.020 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-29 14:49:02.375 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-29 14:49:04.003 +02:00 [INF] Now listening on: https://localhost:5293
2025-09-29 14:49:04.274 +02:00 [DBG] Connection id "0HNFVAQ949MV2" received FIN.
2025-09-29 14:49:04.279 +02:00 [DBG] Connection id "0HNFVAQ949MV3" received FIN.
2025-09-29 14:49:06.678 +02:00 [DBG] Loaded hosting startup assembly DataInsights.API
2025-09-29 14:49:08.079 +02:00 [DBG] Connection id "0HNFVAQ949MV2" accepted.
2025-09-29 14:49:09.862 +02:00 [DBG] Connection id "0HNFVAQ949MV3" accepted.
2025-09-29 14:49:09.938 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-29 14:49:09.951 +02:00 [DBG] Connection id "0HNFVAQ949MV2" started.
2025-09-29 14:49:09.974 +02:00 [DBG] Connection id "0HNFVAQ949MV4" accepted.
2025-09-29 14:49:09.976 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-29 14:49:09.985 +02:00 [DBG] Connection id "0HNFVAQ949MV3" started.
2025-09-29 14:49:10.338 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 14:49:11.864 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-29 14:49:11.704 +02:00 [DBG] Connection id "0HNFVAQ949MV5" accepted.
2025-09-29 14:49:12.178 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 14:49:13.244 +02:00 [DBG] Connection id "0HNFVAQ949MV4" started.
2025-09-29 14:49:13.251 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 14:49:13.271 +02:00 [DBG] Connection id "0HNFVAQ949MV2" stopped.
2025-09-29 14:49:13.289 +02:00 [DBG] Connection id "0HNFVAQ949MV3" stopped.
2025-09-29 14:49:13.355 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 14:49:13.383 +02:00 [DBG] Connection id "0HNFVAQ949MV5" started.
2025-09-29 14:49:13.404 +02:00 [DBG] Connection id "0HNFVAQ949MV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:49:13.431 +02:00 [DBG] Connection id "0HNFVAQ949MV3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:49:13.726 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 14:49:14.967 +02:00 [DBG] Connection id "0HNFVAQ949MV5" received FIN.
2025-09-29 14:49:15.863 +02:00 [DBG] Connection 0HNFVAQ949MV4 established using the following protocol: "Tls13"
2025-09-29 14:49:18.727 +02:00 [INF] Hosting environment: Development
2025-09-29 14:49:20.236 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 14:49:21.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 14:49:22.108 +02:00 [INF] Content root path: C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API
2025-09-29 14:49:22.691 +02:00 [DBG] Connection id "0HNFVAQ949MV5" stopped.
2025-09-29 14:49:22.867 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_vs/browserLink - null null
2025-09-29 14:49:22.881 +02:00 [DBG] Hosting started
2025-09-29 14:49:22.903 +02:00 [DBG] Connection id "0HNFVAQ949MV5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:49:24.427 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-29 14:49:24.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 2730.3844ms
2025-09-29 14:49:25.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3036.7994ms
2025-09-29 14:49:26.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - null null
2025-09-29 14:49:28.928 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-29 14:49:28.961 +02:00 [DBG] Request did not match any endpoints
2025-09-29 14:49:29.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2672.6076ms
2025-09-29 14:49:31.266 +02:00 [DBG] Connection id "0HNFVAQ949MV4" received FIN.
2025-09-29 14:49:31.293 +02:00 [DBG] Connection id "0HNFVAQ949MV4" is closed. The last processed stream ID was 5.
2025-09-29 14:49:31.297 +02:00 [DBG] The connection queue processing loop for 0HNFVAQ949MV4 completed.
2025-09-29 14:49:31.302 +02:00 [DBG] Connection id "0HNFVAQ949MV4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:49:31.308 +02:00 [DBG] Connection id "0HNFVAQ949MV4" stopped.
2025-09-29 14:49:46.232 +02:00 [DBG] Connection id "0HNFVAQ949MV6" accepted.
2025-09-29 14:49:46.936 +02:00 [DBG] Connection id "0HNFVAQ949MV6" started.
2025-09-29 14:49:47.281 +02:00 [DBG] Connection 0HNFVAQ949MV6 established using the following protocol: "Tls13"
2025-09-29 14:49:47.320 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Product_/All-sales - null null
2025-09-29 14:49:49.387 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Product_/All-sales'
2025-09-29 14:49:49.458 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)' with route pattern 'api/Product_/All-sales' is valid for the request path '/api/Product_/All-sales'
2025-09-29 14:49:49.495 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)' with route pattern 'api/Product_/{id}' is valid for the request path '/api/Product_/All-sales'
2025-09-29 14:49:49.504 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:49:49.574 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:49:49.811 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DataInsights.API.DTOs.Product_DTO]]] GetAllProducts() on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 14:49:49.829 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 14:49:49.843 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 14:49:49.855 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 14:49:49.862 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 14:49:49.874 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 14:49:49.879 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:49:50.729 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-29 14:49:51.110 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-29 14:49:51.223 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:49:53.729 +02:00 [DBG] The property 'Sale.Customer_customerID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 14:49:53.744 +02:00 [DBG] The property 'Sale.Product_ID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 14:49:54.039 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 14:49:54.260 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()'
2025-09-29 14:49:55.634 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DataInsights.API.Data.SQLDatabase, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-29 14:49:55.756 +02:00 [DBG] Creating DbConnection.
2025-09-29 14:49:55.827 +02:00 [DBG] Created DbConnection. (69ms).
2025-09-29 14:49:55.846 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:49:57.553 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:49:57.570 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 14:49:57.585 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-09-29 14:49:57.603 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2025-09-29 14:49:57.626 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 14:49:59.107 +02:00 [INF] Executed DbCommand (1,474ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 14:49:59.523 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:49:59.642 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:49:59.830 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:49:59.999 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:50:00.241 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:50:00.383 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:50:00.401 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 1268ms reading results.
2025-09-29 14:50:00.416 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:50:00.434 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (16ms).
2025-09-29 14:50:00.440 +02:00 [INF] Retrieved 5 products from the repository.
2025-09-29 14:50:00.494 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 14:50:00.509 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-29 14:50:00.519 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-29 14:50:00.522 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 14:50:00.524 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 14:50:00.529 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 14:50:00.537 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DataInsights.API.DTOs.Product_DTO, DataInsights.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:50:00.607 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API) in 10714.4833ms
2025-09-29 14:50:00.626 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:50:00.816 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 14:50:01.319 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:50:01.325 +02:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-09-29 14:50:01.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Product_/All-sales - 200 null application/json; charset=utf-8 14014.3217ms
2025-09-29 14:54:05.045 +02:00 [DBG] Connection id "0HNFVAQ949MV6" received FIN.
2025-09-29 14:54:05.051 +02:00 [DBG] Connection id "0HNFVAQ949MV6" is closed. The last processed stream ID was 1.
2025-09-29 14:54:05.089 +02:00 [DBG] The connection queue processing loop for 0HNFVAQ949MV6 completed.
2025-09-29 14:54:05.094 +02:00 [DBG] Connection id "0HNFVAQ949MV6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:54:05.101 +02:00 [DBG] Connection id "0HNFVAQ949MV6" stopped.
2025-09-29 14:55:22.960 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-29 14:55:27.647 +02:00 [DBG] Hosting starting
2025-09-29 14:55:27.686 +02:00 [DBG] Middleware loaded
2025-09-29 14:55:27.713 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16517 B).
2025-09-29 14:55:27.718 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-29 14:55:28.375 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-29 14:55:29.330 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-29 14:55:29.875 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-29 14:55:30.517 +02:00 [INF] Now listening on: https://localhost:5293
2025-09-29 14:55:30.652 +02:00 [DBG] Connection id "0HNFVATS92SFU" accepted.
2025-09-29 14:55:30.656 +02:00 [DBG] Connection id "0HNFVATS92SFV" accepted.
2025-09-29 14:55:31.812 +02:00 [DBG] Connection id "0HNFVATS92SFU" started.
2025-09-29 14:55:31.780 +02:00 [DBG] Loaded hosting startup assembly DataInsights.API
2025-09-29 14:55:31.828 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-29 14:55:31.834 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-29 14:55:31.836 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-29 14:55:31.880 +02:00 [DBG] Connection id "0HNFVATS92SFV" started.
2025-09-29 14:55:32.215 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 14:55:32.236 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 14:55:32.406 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 14:55:32.957 +02:00 [INF] Hosting environment: Development
2025-09-29 14:55:33.421 +02:00 [INF] Content root path: C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API
2025-09-29 14:55:33.812 +02:00 [DBG] Hosting started
2025-09-29 14:55:34.613 +02:00 [DBG] Connection id "0HNFVATS92SFU" received FIN.
2025-09-29 14:55:34.652 +02:00 [DBG] Connection id "0HNFVATS92SFV" received FIN.
2025-09-29 14:55:35.803 +02:00 [DBG] Connection id "0HNFVATS92SG0" accepted.
2025-09-29 14:55:36.876 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 14:55:36.939 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 14:55:36.948 +02:00 [DBG] Connection id "0HNFVATS92SG1" accepted.
2025-09-29 14:55:37.059 +02:00 [DBG] Connection id "0HNFVATS92SFU" stopped.
2025-09-29 14:55:37.075 +02:00 [DBG] Connection id "0HNFVATS92SFV" stopped.
2025-09-29 14:55:37.077 +02:00 [DBG] Connection id "0HNFVATS92SG0" started.
2025-09-29 14:55:37.094 +02:00 [DBG] Connection id "0HNFVATS92SG1" started.
2025-09-29 14:55:37.108 +02:00 [DBG] Connection id "0HNFVATS92SFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:55:37.526 +02:00 [DBG] Connection id "0HNFVATS92SFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:55:37.529 +02:00 [DBG] Connection id "0HNFVATS92SG1" received FIN.
2025-09-29 14:55:37.543 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 14:55:37.554 +02:00 [DBG] Connection id "0HNFVATS92SG1" stopped.
2025-09-29 14:55:37.558 +02:00 [DBG] Connection 0HNFVATS92SG0 established using the following protocol: "Tls13"
2025-09-29 14:55:37.562 +02:00 [DBG] Connection id "0HNFVATS92SG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 14:55:37.895 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 14:55:38.206 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_vs/browserLink - null null
2025-09-29 14:55:38.302 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-29 14:55:39.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 1806.4971ms
2025-09-29 14:55:40.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2226.3808ms
2025-09-29 14:55:40.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - null null
2025-09-29 14:55:41.666 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-29 14:55:41.778 +02:00 [DBG] Request did not match any endpoints
2025-09-29 14:55:41.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1010.6824ms
2025-09-29 14:56:33.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Product_/All-sales - null null
2025-09-29 14:56:33.444 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Product_/All-sales'
2025-09-29 14:56:33.473 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)' with route pattern 'api/Product_/All-sales' is valid for the request path '/api/Product_/All-sales'
2025-09-29 14:56:33.477 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)' with route pattern 'api/Product_/{id}' is valid for the request path '/api/Product_/All-sales'
2025-09-29 14:56:33.485 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:56:33.537 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:56:33.571 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DataInsights.API.DTOs.Product_DTO]]] GetAllProducts() on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 14:56:33.576 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 14:56:33.584 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 14:56:33.587 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 14:56:33.590 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 14:56:33.592 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 14:56:33.602 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:56:33.892 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-29 14:56:34.457 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-29 14:56:34.468 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:56:34.477 +02:00 [INF] Retrieving all products....
2025-09-29 14:56:36.194 +02:00 [DBG] The property 'Sale.Customer_customerID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 14:56:36.198 +02:00 [DBG] The property 'Sale.Product_ID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 14:56:36.391 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 14:56:36.472 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()'
2025-09-29 14:56:36.999 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DataInsights.API.Data.SQLDatabase, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-29 14:56:37.085 +02:00 [DBG] Creating DbConnection.
2025-09-29 14:56:37.142 +02:00 [DBG] Created DbConnection. (56ms).
2025-09-29 14:56:37.154 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:56:37.677 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:56:37.688 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 14:56:37.708 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-09-29 14:56:37.716 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-09-29 14:56:37.732 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 14:56:38.393 +02:00 [INF] Executed DbCommand (535ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 14:56:38.959 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:56:39.127 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:56:39.140 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:56:39.143 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:56:39.145 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:56:39.204 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:56:39.228 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 802ms reading results.
2025-09-29 14:56:39.245 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:56:39.276 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (31ms).
2025-09-29 14:56:39.318 +02:00 [INF] Retrieved 5 products from the repository.
2025-09-29 14:56:39.402 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 14:56:39.410 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-29 14:56:39.423 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-29 14:56:39.427 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 14:56:39.432 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 14:56:39.434 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 14:56:39.440 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DataInsights.API.DTOs.Product_DTO, DataInsights.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:56:39.506 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API) in 5900.5421ms
2025-09-29 14:56:39.512 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:56:39.595 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 14:56:40.112 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:56:40.127 +02:00 [DBG] Disposed connection to database '' on server '' (14ms).
2025-09-29 14:56:40.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Product_/All-sales - 200 null application/json; charset=utf-8 6714.2462ms
2025-09-29 14:57:13.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Product_/All-sales - null null
2025-09-29 14:57:13.042 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Product_/All-sales'
2025-09-29 14:57:13.068 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)' with route pattern 'api/Product_/All-sales' is valid for the request path '/api/Product_/All-sales'
2025-09-29 14:57:13.071 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)' with route pattern 'api/Product_/{id}' is valid for the request path '/api/Product_/All-sales'
2025-09-29 14:57:13.075 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:57:13.083 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:57:13.086 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DataInsights.API.DTOs.Product_DTO]]] GetAllProducts() on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 14:57:13.093 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 14:57:13.102 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 14:57:13.106 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 14:57:13.109 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 14:57:13.111 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 14:57:13.120 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:57:13.176 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:57:13.186 +02:00 [INF] Retrieving all products....
2025-09-29 14:57:13.193 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 14:57:13.207 +02:00 [DBG] Creating DbConnection.
2025-09-29 14:57:13.212 +02:00 [DBG] Created DbConnection. (4ms).
2025-09-29 14:57:13.221 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:13.235 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:13.239 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 14:57:13.241 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-29 14:57:13.244 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-09-29 14:57:13.253 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 14:57:13.269 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 14:57:13.274 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:13.291 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:13.868 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:14.021 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:14.023 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:14.029 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:14.034 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 760ms reading results.
2025-09-29 14:57:14.037 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:14.040 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (3ms).
2025-09-29 14:57:14.043 +02:00 [INF] Retrieved 5 products from the repository.
2025-09-29 14:57:14.049 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 14:57:14.055 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-29 14:57:14.066 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-29 14:57:14.071 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 14:57:14.072 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 14:57:14.074 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 14:57:14.076 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DataInsights.API.DTOs.Product_DTO, DataInsights.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:57:14.078 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API) in 958.3104ms
2025-09-29 14:57:14.089 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 14:57:14.091 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 14:57:14.102 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:14.172 +02:00 [DBG] Disposed connection to database '' on server '' (69ms).
2025-09-29 14:57:14.177 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Product_/All-sales - 200 null application/json; charset=utf-8 1152.6996ms
2025-09-29 14:57:54.974 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:5293/sales/delete/1 - null null
2025-09-29 14:57:54.986 +02:00 [DBG] 1 candidate(s) found for the request path '/sales/delete/1'
2025-09-29 14:57:54.993 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)' with route pattern 'sales/delete/{id}' is valid for the request path '/sales/delete/1'
2025-09-29 14:57:55.006 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)'
2025-09-29 14:57:55.011 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 14:57:55.022 +02:00 [INF] CORS policy execution successful.
2025-09-29 14:57:55.025 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)'
2025-09-29 14:57:55.099 +02:00 [INF] Route matched with {action = "DeleteProduct", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(Int32) on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 14:57:55.227 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 14:57:55.240 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 14:57:55.242 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 14:57:55.253 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 14:57:55.256 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 14:57:55.512 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:57:55.523 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 14:57:55.567 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-29 14:57:55.573 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-29 14:57:55.586 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 14:57:55.588 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 14:57:55.590 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-29 14:57:55.850 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-29 14:57:56.075 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 14:57:56.209 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(e => EF.Property<int>(e, "Product_ID") == __p_0)'
2025-09-29 14:57:56.424 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Product>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
            SELECT TOP(1) p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
            FROM Products AS p
            WHERE p.Product_ID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
            SELECT TOP(1) p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
            FROM Products AS p
            WHERE p.Product_ID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Product entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Product instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Product);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Product)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                            {
                                return 
                                {
                                    Product instance;
                                    instance = new Product();
                                    instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Product)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DataInsights.API.Data.SQLDatabase, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-29 14:57:56.450 +02:00 [DBG] Creating DbConnection.
2025-09-29 14:57:56.452 +02:00 [DBG] Created DbConnection. (1ms).
2025-09-29 14:57:56.453 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:56.456 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:56.457 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 14:57:56.462 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-29 14:57:56.473 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-09-29 14:57:56.487 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 14:57:56.625 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 14:57:56.639 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:56.644 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:56.654 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-09-29 14:57:56.666 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:56.672 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (5ms).
2025-09-29 14:57:56.684 +02:00 [INF] Product with ID 1 retrieved from the repository.
2025-09-29 14:57:56.732 +02:00 [DBG] An entity of type 'Product' tracked by 'SQLDatabase' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 14:57:56.749 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 14:57:56.755 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 14:57:56.789 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 14:57:56.932 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:56.944 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:56.958 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 14:57:56.964 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-29 14:57:56.972 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-29 14:57:56.974 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Products]
OUTPUT 1
WHERE [Product_ID] = @p0;
2025-09-29 14:57:57.027 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Products]
OUTPUT 1
WHERE [Product_ID] = @p0;
2025-09-29 14:57:57.055 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:57.060 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 26ms reading results.
2025-09-29 14:57:57.077 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 14:57:57.084 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (7ms).
2025-09-29 14:57:57.148 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'DataInsights.API.Data.SQLDatabase'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Sales_Products_Product_ID". The conflict occurred in database "DataInsightsDB", table "dbo.Sales", column 'Product_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c1e7347-e5bb-46a6-87ab-6d67c5f3d177
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Sales_Products_Product_ID". The conflict occurred in database "DataInsightsDB", table "dbo.Sales", column 'Product_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c1e7347-e5bb-46a6-87ab-6d67c5f3d177
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 15:04:37.677 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-29 15:04:44.503 +02:00 [DBG] Hosting starting
2025-09-29 15:04:46.366 +02:00 [DBG] Middleware loaded
2025-09-29 15:04:48.667 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16517 B).
2025-09-29 15:04:49.756 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-29 15:04:50.197 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-29 15:04:50.316 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-29 15:04:50.383 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-29 15:04:50.779 +02:00 [INF] Now listening on: https://localhost:5293
2025-09-29 15:04:50.804 +02:00 [DBG] Loaded hosting startup assembly DataInsights.API
2025-09-29 15:04:50.857 +02:00 [DBG] Connection id "0HNFVB337K53J" received FIN.
2025-09-29 15:04:50.859 +02:00 [DBG] Connection id "0HNFVB337K53K" received FIN.
2025-09-29 15:04:50.945 +02:00 [DBG] Connection id "0HNFVB337K53K" accepted.
2025-09-29 15:04:50.959 +02:00 [DBG] Connection id "0HNFVB337K53K" started.
2025-09-29 15:04:50.916 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-29 15:04:50.993 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-29 15:04:50.930 +02:00 [DBG] Connection id "0HNFVB337K53J" accepted.
2025-09-29 15:04:51.199 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-29 15:04:51.208 +02:00 [DBG] Connection id "0HNFVB337K53J" started.
2025-09-29 15:04:51.351 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 15:04:51.383 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:04:51.412 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 15:04:51.394 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:04:52.342 +02:00 [DBG] Connection id "0HNFVB337K53L" accepted.
2025-09-29 15:04:55.465 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 15:04:55.228 +02:00 [DBG] Connection id "0HNFVB337K53K" stopped.
2025-09-29 15:04:53.552 +02:00 [DBG] Connection id "0HNFVB337K53J" stopped.
2025-09-29 15:04:56.193 +02:00 [DBG] Connection id "0HNFVB337K53M" accepted.
2025-09-29 15:04:56.514 +02:00 [DBG] Connection id "0HNFVB337K53L" started.
2025-09-29 15:04:56.991 +02:00 [INF] Hosting environment: Development
2025-09-29 15:04:58.941 +02:00 [DBG] Connection id "0HNFVB337K53K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:05:00.289 +02:00 [DBG] Connection id "0HNFVB337K53M" started.
2025-09-29 15:05:00.891 +02:00 [INF] Content root path: C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API
2025-09-29 15:05:00.277 +02:00 [DBG] Connection id "0HNFVB337K53J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:05:00.434 +02:00 [DBG] Connection id "0HNFVB337K53M" received FIN.
2025-09-29 15:05:01.102 +02:00 [DBG] Connection 0HNFVB337K53L established using the following protocol: "Tls13"
2025-09-29 15:05:01.819 +02:00 [DBG] Hosting started
2025-09-29 15:05:01.896 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:05:02.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:05:02.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_vs/browserLink - null null
2025-09-29 15:05:02.569 +02:00 [DBG] Connection id "0HNFVB337K53M" stopped.
2025-09-29 15:05:06.179 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-29 15:05:07.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5195.3263ms
2025-09-29 15:05:07.790 +02:00 [DBG] Connection id "0HNFVB337K53M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:05:07.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 5346.2996ms
2025-09-29 15:05:08.185 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - null null
2025-09-29 15:05:08.922 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-29 15:05:09.244 +02:00 [DBG] Request did not match any endpoints
2025-09-29 15:05:09.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1218.0029ms
2025-09-29 15:05:18.249 +02:00 [DBG] Connection id "0HNFVB337K53L" received FIN.
2025-09-29 15:05:18.261 +02:00 [DBG] The connection queue processing loop for 0HNFVB337K53L completed.
2025-09-29 15:05:18.262 +02:00 [DBG] Connection id "0HNFVB337K53L" is closed. The last processed stream ID was 5.
2025-09-29 15:05:18.488 +02:00 [DBG] Connection id "0HNFVB337K53L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:05:18.502 +02:00 [DBG] Connection id "0HNFVB337K53L" stopped.
2025-09-29 15:05:36.993 +02:00 [DBG] Connection id "0HNFVB337K53N" accepted.
2025-09-29 15:05:37.035 +02:00 [DBG] Connection id "0HNFVB337K53N" started.
2025-09-29 15:05:37.143 +02:00 [DBG] Connection 0HNFVB337K53N established using the following protocol: "Tls13"
2025-09-29 15:05:37.586 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:5293/sales/delete/1 - null null
2025-09-29 15:05:37.609 +02:00 [DBG] 1 candidate(s) found for the request path '/sales/delete/1'
2025-09-29 15:05:37.671 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)' with route pattern 'sales/delete/{id}' is valid for the request path '/sales/delete/1'
2025-09-29 15:05:38.065 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)'
2025-09-29 15:05:38.381 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:05:38.387 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:05:38.398 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)'
2025-09-29 15:05:38.782 +02:00 [INF] Route matched with {action = "DeleteProduct", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(Int32) on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 15:05:39.275 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:05:39.492 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:05:39.826 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:05:40.226 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:05:40.357 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:05:40.411 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:05:41.016 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-29 15:05:41.305 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-29 15:05:41.315 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:05:41.406 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-29 15:05:41.631 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-29 15:05:41.641 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:05:41.654 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:05:41.657 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-29 15:05:41.674 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-29 15:05:44.015 +02:00 [DBG] The property 'Sale.Customer_customerID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 15:05:44.031 +02:00 [DBG] The property 'Sale.Product_ID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 15:05:44.429 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:05:45.046 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(e => EF.Property<int>(e, "Product_ID") == __p_0)'
2025-09-29 15:05:46.200 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Product>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
            SELECT TOP(1) p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
            FROM Products AS p
            WHERE p.Product_ID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
            SELECT TOP(1) p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
            FROM Products AS p
            WHERE p.Product_ID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Product entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Product instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Product);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Product)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                            {
                                return 
                                {
                                    Product instance;
                                    instance = new Product();
                                    instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Product)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DataInsights.API.Data.SQLDatabase, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-29 15:05:46.371 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:05:46.449 +02:00 [DBG] Created DbConnection. (81ms).
2025-09-29 15:05:46.502 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:47.899 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:48.021 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:05:48.089 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2025-09-29 15:05:48.201 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (180ms).
2025-09-29 15:05:48.231 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 15:05:48.608 +02:00 [INF] Executed DbCommand (379ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 15:05:48.756 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:05:48.827 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:48.866 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 220ms reading results.
2025-09-29 15:05:49.016 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:49.031 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (14ms).
2025-09-29 15:05:49.039 +02:00 [INF] Product with ID 1 retrieved from the repository.
2025-09-29 15:05:49.085 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Include(p => p.Sales)
    .FirstOrDefault(p => p.Product_ID == __productId_0)'
2025-09-29 15:05:49.255 +02:00 [DBG] Including navigation: 'Product.Sales'.
2025-09-29 15:05:49.564 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Product>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Sale.Sales_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Sale.Customer_ID (int) Required, 6], [Property: Sale.Customer_customerID (no field, int?) Shadow FK Index, 7], [Property: Sale.Product_ID (no field, int?) Shadow FK Index, 8], [Property: Sale.Quantity (int) Required, 9], [Property: Sale.SaleDate (DateTime) Required, 10], [Property: Sale.Total_Amount (decimal) Required, 11] }
                3 -> 5
            SELECT p0.Product_ID, p0.Price, p0.Product_Description, p0.Product_Name, p0.Quantity, s.Sales_ID, s.Customer_ID, s.Customer_customerID, s.Product_ID, s.Quantity, s.SaleDate, s.Total_Amount
            FROM 
            (
                SELECT TOP(1) p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
                FROM Products AS p
                WHERE p.Product_ID == @__productId_0
            ) AS p0
            LEFT JOIN Sales AS s ON p0.Product_ID == s.Product_ID
            ORDER BY p0.Product_ID ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Sale.Sales_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Sale.Customer_ID (int) Required, 6], [Property: Sale.Customer_customerID (no field, int?) Shadow FK Index, 7], [Property: Sale.Product_ID (no field, int?) Shadow FK Index, 8], [Property: Sale.Quantity (int) Required, 9], [Property: Sale.SaleDate (DateTime) Required, 10], [Property: Sale.Total_Amount (decimal) Required, 11] }
                3 -> 5
            SELECT p0.Product_ID, p0.Price, p0.Product_Description, p0.Product_Name, p0.Quantity, s.Sales_ID, s.Customer_ID, s.Customer_customerID, s.Product_ID, s.Quantity, s.SaleDate, s.Total_Amount
            FROM 
            (
                SELECT TOP(1) p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
                FROM Products AS p
                WHERE p.Product_ID == @__productId_0
            ) AS p0
            LEFT JOIN Sales AS s ON p0.Product_ID == s.Product_ID
            ORDER BY p0.Product_ID ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Product entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Product instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Product);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Product)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                                {
                                    return 
                                    {
                                        Product instance;
                                        instance = new Product();
                                        instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                        instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                        instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                        instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                        instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Product)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Product, Product>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Product)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Product.Sales (ICollection<Sale>) Collection ToDependent Sale Inverse: Product | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindNavigation("Sales")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Product, ICollection<Sale>, Sale> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindNavigation("Sales").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Product, Sale>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Sale entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Sale instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Sale);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Sale.Sales_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetInt32(5) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Sale)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Sale | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Sale | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale")]: 
                                    {
                                        shadowSnapshot2 = (ISnapshot)new Snapshot<int?, int?>(
                                            dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7), 
                                            dataReader.IsDBNull(8) ? default(int?) : (int?)dataReader.GetInt32(8)
                                        );
                                        return 
                                        {
                                            Sale instance;
                                            instance = new Sale();
                                            instance.<Sales_ID>k__BackingField = dataReader.IsDBNull(5) ? default(int) : dataReader.GetInt32(5);
                                            instance.<Customer_ID>k__BackingField = dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6);
                                            instance.<Quantity>k__BackingField = dataReader.IsDBNull(9) ? default(int) : dataReader.GetInt32(9);
                                            instance.<SaleDate>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime) : dataReader.GetDateTime(10);
                                            instance.<Total_Amount>k__BackingField = dataReader.IsDBNull(11) ? default(decimal) : dataReader.GetDecimal(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Sale | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Sale)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Sale.Product (Product) ToPrincipal Product Inverse: Sales | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale").FindNavigation("Product")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Product, ICollection<Sale>, Sale> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindNavigation("Sales").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Product>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Product)(resultContext.Values[0]) : default(Product);
        }, 
        contextType: DataInsights.API.Data.SQLDatabase, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-29 15:05:49.836 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:50.063 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:50.280 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:05:50.355 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2025-09-29 15:05:50.446 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (166ms).
2025-09-29 15:05:50.734 +02:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Product_ID], [p0].[Price], [p0].[Product_Description], [p0].[Product_Name], [p0].[Quantity], [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM (
    SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
    FROM [Products] AS [p]
    WHERE [p].[Product_ID] = @__productId_0
) AS [p0]
LEFT JOIN [Sales] AS [s] ON [p0].[Product_ID] = [s].[Product_ID]
ORDER BY [p0].[Product_ID]
2025-09-29 15:05:50.883 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Product_ID], [p0].[Price], [p0].[Product_Description], [p0].[Product_Name], [p0].[Quantity], [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM (
    SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
    FROM [Products] AS [p]
    WHERE [p].[Product_ID] = @__productId_0
) AS [p0]
LEFT JOIN [Sales] AS [s] ON [p0].[Product_ID] = [s].[Product_ID]
ORDER BY [p0].[Product_ID]
2025-09-29 15:05:51.102 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Sale' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:05:51.158 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:51.180 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 142ms reading results.
2025-09-29 15:05:51.197 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:51.205 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (7ms).
2025-09-29 15:05:51.301 +02:00 [DBG] An entity of type 'Sale' tracked by 'SQLDatabase' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:05:51.415 +02:00 [DBG] An entity of type 'Product' tracked by 'SQLDatabase' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:05:51.486 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:05:51.499 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:05:51.516 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:05:51.756 +02:00 [DBG] Executing 2 update commands as a batch.
2025-09-29 15:05:51.921 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:51.998 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:52.222 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-29 15:05:52.282 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-29 15:05:52.317 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:05:52.407 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (89ms).
2025-09-29 15:05:52.419 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (101ms).
2025-09-29 15:05:52.426 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Sales]
OUTPUT 1
WHERE [Sales_ID] = @p0;
DELETE FROM [Products]
OUTPUT 1
WHERE [Product_ID] = @p1;
2025-09-29 15:05:52.507 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Sales]
OUTPUT 1
WHERE [Sales_ID] = @p0;
DELETE FROM [Products]
OUTPUT 1
WHERE [Product_ID] = @p1;
2025-09-29 15:05:52.536 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:52.547 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-09-29 15:05:52.570 +02:00 [DBG] Committing transaction.
2025-09-29 15:05:52.582 +02:00 [DBG] Committed transaction.
2025-09-29 15:05:52.591 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:52.658 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (67ms).
2025-09-29 15:05:52.685 +02:00 [DBG] Disposing transaction.
2025-09-29 15:05:52.699 +02:00 [DBG] An entity of type 'Sale' tracked by 'SQLDatabase' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:05:54.115 +02:00 [DBG] An entity of type 'Product' tracked by 'SQLDatabase' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:05:54.641 +02:00 [DBG] SaveChanges completed for 'SQLDatabase' with 2 entities written to the database.
2025-09-29 15:05:54.867 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 15:05:54.886 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API) in 14471.857ms
2025-09-29 15:05:55.044 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.DeleteProduct (DataInsights.API)'
2025-09-29 15:05:55.064 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:05:55.083 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:05:55.115 +02:00 [DBG] Disposed connection to database '' on server '' (29ms).
2025-09-29 15:05:55.124 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:5293/sales/delete/1 - 204 null null 17538.0958ms
2025-09-29 15:05:58.286 +02:00 [DBG] Connection id "0HNFVB337K53N" received FIN.
2025-09-29 15:05:58.292 +02:00 [DBG] Connection id "0HNFVB337K53N" is closed. The last processed stream ID was 1.
2025-09-29 15:05:58.293 +02:00 [DBG] The connection queue processing loop for 0HNFVB337K53N completed.
2025-09-29 15:05:58.310 +02:00 [DBG] Connection id "0HNFVB337K53N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:05:58.321 +02:00 [DBG] Connection id "0HNFVB337K53N" stopped.
2025-09-29 15:08:37.593 +02:00 [DBG] Connection id "0HNFVB337K53O" accepted.
2025-09-29 15:08:37.740 +02:00 [DBG] Connection id "0HNFVB337K53O" started.
2025-09-29 15:08:37.819 +02:00 [DBG] Connection 0HNFVB337K53O established using the following protocol: "Tls13"
2025-09-29 15:08:37.892 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:5293/sales/update - application/json 64
2025-09-29 15:08:37.908 +02:00 [DBG] 1 candidate(s) found for the request path '/sales/update'
2025-09-29 15:08:37.915 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)' with route pattern 'sales/update' is valid for the request path '/sales/update'
2025-09-29 15:08:37.921 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)'
2025-09-29 15:08:37.926 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:08:37.933 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:08:37.935 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)'
2025-09-29 15:08:37.975 +02:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(DataInsights.API.DTOs.Product_DTO) on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 15:08:37.981 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:08:37.987 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:08:38.008 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:08:38.018 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:08:38.022 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:08:38.024 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:08:38.080 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:08:38.084 +02:00 [DBG] Attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' ...
2025-09-29 15:08:38.101 +02:00 [DBG] Attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' using the name '' in request data ...
2025-09-29 15:08:38.108 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:08:38.186 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000001": started reading request body.
2025-09-29 15:08:38.189 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000001": done reading request body.
2025-09-29 15:08:38.227 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Product_DTO'
2025-09-29 15:08:38.230 +02:00 [DBG] Done attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:08:38.232 +02:00 [DBG] Done attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:08:38.234 +02:00 [DBG] Attempting to validate the bound parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' ...
2025-09-29 15:08:38.267 +02:00 [DBG] Done attempting to validate the bound parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:08:38.326 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:08:38.349 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:08:38.351 +02:00 [DBG] Created DbConnection. (1ms).
2025-09-29 15:08:38.353 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:08:38.356 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:08:38.358 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:08:38.360 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-29 15:08:38.365 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-29 15:08:38.368 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 15:08:38.396 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 15:08:38.400 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:08:38.402 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:08:38.405 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-09-29 15:08:38.411 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:08:38.413 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (2ms).
2025-09-29 15:08:38.416 +02:00 [INF] Product with ID 2 retrieved from the repository.
2025-09-29 15:09:07.450 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API) in 29425.2323ms
2025-09-29 15:09:10.321 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)'
2025-09-29 15:09:10.641 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'Product' cannot be tracked because another instance with the same key value for {'Product_ID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DataInsights.API.Repository.ProductRepository.UpdateProductAsync(Product product) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Repository\ProductRepository.cs:line 45
   at DataInsights.API.Services.ProductService.UpdateProductAsync(Product_DTO product_DTO) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Services\ProductService.cs:line 58
   at DataInsights.API.Controllers.Product_Controller.UpdateProduct(Product_DTO productDTO) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Controllers\Product_Controller.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-29 15:09:13.775 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:09:14.540 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:09:14.765 +02:00 [DBG] Disposed connection to database '' on server '' (225ms).
2025-09-29 15:09:14.802 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:5293/sales/update - 500 null text/plain; charset=utf-8 36911.5415ms
2025-09-29 15:09:17.243 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:5293/sales/update - application/json 64
2025-09-29 15:09:17.626 +02:00 [DBG] 1 candidate(s) found for the request path '/sales/update'
2025-09-29 15:09:17.653 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)' with route pattern 'sales/update' is valid for the request path '/sales/update'
2025-09-29 15:09:17.659 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)'
2025-09-29 15:09:17.668 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:09:17.672 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:09:17.676 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)'
2025-09-29 15:09:17.692 +02:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(DataInsights.API.DTOs.Product_DTO) on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 15:09:17.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:09:17.720 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:09:17.729 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:09:17.751 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:09:17.756 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:09:17.767 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:09:17.781 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:09:17.812 +02:00 [DBG] Attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' ...
2025-09-29 15:09:17.817 +02:00 [DBG] Attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' using the name '' in request data ...
2025-09-29 15:09:17.820 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:09:17.822 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000003": started reading request body.
2025-09-29 15:09:17.824 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000003": done reading request body.
2025-09-29 15:09:17.834 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Product_DTO'
2025-09-29 15:09:17.836 +02:00 [DBG] Done attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:09:17.838 +02:00 [DBG] Done attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:09:17.841 +02:00 [DBG] Attempting to validate the bound parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' ...
2025-09-29 15:09:17.882 +02:00 [DBG] Done attempting to validate the bound parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:09:18.114 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:09:18.423 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:09:18.463 +02:00 [DBG] Created DbConnection. (40ms).
2025-09-29 15:09:18.465 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:09:18.470 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:09:18.476 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:09:18.480 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-29 15:09:18.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-29 15:09:18.490 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 15:09:18.582 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[Product_ID] = @__p_0
2025-09-29 15:09:18.590 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:09:18.593 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-29 15:09:18.599 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:09:18.605 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (5ms).
2025-09-29 15:09:18.624 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:09:18.650 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:09:18.774 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-29 15:09:19.166 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-29 15:09:19.183 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 15:09:19.568 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API) in 1801.3921ms
2025-09-29 15:09:19.898 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.UpdateProduct (DataInsights.API)'
2025-09-29 15:09:20.375 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:09:20.966 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:09:21.171 +02:00 [DBG] Disposed connection to database '' on server '' (205ms).
2025-09-29 15:09:21.230 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:5293/sales/update - 404 null application/problem+json; charset=utf-8 3986.8134ms
2025-09-29 15:10:03.473 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - application/json 56
2025-09-29 15:10:03.559 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/Add-sale'
2025-09-29 15:10:03.587 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)' with route pattern 'api/Sales/Add-sale' is valid for the request path '/api/Sales/Add-sale'
2025-09-29 15:10:03.590 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:10:03.599 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:10:03.603 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:10:03.608 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:10:03.624 +02:00 [INF] Route matched with {action = "AddSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSale(DataInsights.API.DTOs.Sale_DTO) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:10:03.633 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:10:03.640 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:10:03.650 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:10:03.663 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:10:03.665 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:10:03.668 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:10:03.674 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:10:03.677 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:10:03.681 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' using the name '' in request data ...
2025-09-29 15:10:03.683 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:10:03.691 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000005": started reading request body.
2025-09-29 15:10:03.698 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000005": done reading request body.
2025-09-29 15:10:03.702 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Sale_DTO'
2025-09-29 15:10:03.703 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:03.705 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:03.707 +02:00 [DBG] Attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:10:03.715 +02:00 [DBG] Done attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:03.781 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:10:03.793 +02:00 [DBG] 'SQLDatabase' generated a temporary value for the property 'Sale.Sales_ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:10:03.805 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Sale' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:10:03.808 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:10:03.809 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:10:03.816 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:10:03.846 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:10:03.847 +02:00 [DBG] Created DbConnection. (1ms).
2025-09-29 15:10:03.849 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:03.852 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:03.875 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:10:03.877 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-29 15:10:03.889 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-29 15:10:03.891 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
OUTPUT INSERTED.[Sales_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-29 15:10:03.982 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
OUTPUT INSERTED.[Sales_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-29 15:10:04.001 +02:00 [DBG] The foreign key property 'Sale.Sales_ID' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-29 15:10:04.006 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:04.015 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 28ms reading results.
2025-09-29 15:10:04.017 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:04.019 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (1ms).
2025-09-29 15:10:04.032 +02:00 [DBG] An entity of type 'Sale' tracked by 'SQLDatabase' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:10:04.034 +02:00 [DBG] SaveChanges completed for 'SQLDatabase' with 1 entities written to the database.
2025-09-29 15:10:04.046 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:10:04.052 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:10:04.053 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 15:10:04.055 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 15:10:04.056 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 15:10:04.059 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:04.139 +02:00 [DBG] Found the endpoints ["DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)"] for address (id=[0],action=[GetSalesById],controller=[Sales])
2025-09-29 15:10:04.171 +02:00 [DBG] Successfully processed template api/Sales/GetBy{id} for DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) resulting in /api/Sales/GetBy0 and 
2025-09-29 15:10:04.189 +02:00 [DBG] Link generation succeeded for endpoints ["DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)"] with result /api/Sales/GetBy0
2025-09-29 15:10:04.259 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API) in 591.2493ms
2025-09-29 15:10:04.289 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:10:04.302 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:10:04.340 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:04.345 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-29 15:10:04.348 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - 201 null application/json; charset=utf-8 875.3389ms
2025-09-29 15:10:14.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Sales/GetBy1 - null null
2025-09-29 15:10:14.876 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/GetBy1'
2025-09-29 15:10:15.120 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)' with route pattern 'api/Sales/GetBy{id}' is valid for the request path '/api/Sales/GetBy1'
2025-09-29 15:10:15.130 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:10:15.203 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:10:15.360 +02:00 [INF] Route matched with {action = "GetSalesById", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSalesById(Int32) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:10:15.379 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:10:15.562 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:10:15.565 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:10:15.568 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:10:15.570 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:10:15.579 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:10:15.582 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:10:15.584 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-29 15:10:15.592 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-29 15:10:15.596 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:10:15.598 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:10:15.602 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-29 15:10:15.605 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-29 15:10:15.609 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:10:15.619 +02:00 [DBG] Compiling query expression: 
'DbSet<Sale>()
    .FirstOrDefault(e => EF.Property<int>(e, "Sales_ID") == __p_0)'
2025-09-29 15:10:15.645 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Sale>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Sale>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Sale.Sales_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Sale.Customer_ID (int) Required, 1], [Property: Sale.Customer_customerID (no field, int?) Shadow FK Index, 2], [Property: Sale.Product_ID (no field, int?) Shadow FK Index, 3], [Property: Sale.Quantity (int) Required, 4], [Property: Sale.SaleDate (DateTime) Required, 5], [Property: Sale.Total_Amount (decimal) Required, 6] }
            SELECT TOP(1) s.Sales_ID, s.Customer_ID, s.Customer_customerID, s.Product_ID, s.Quantity, s.SaleDate, s.Total_Amount
            FROM Sales AS s
            WHERE s.Sales_ID == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Sale.Sales_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Sale.Customer_ID (int) Required, 1], [Property: Sale.Customer_customerID (no field, int?) Shadow FK Index, 2], [Property: Sale.Product_ID (no field, int?) Shadow FK Index, 3], [Property: Sale.Quantity (int) Required, 4], [Property: Sale.SaleDate (DateTime) Required, 5], [Property: Sale.Total_Amount (decimal) Required, 6] }
            SELECT TOP(1) s.Sales_ID, s.Customer_ID, s.Customer_customerID, s.Product_ID, s.Quantity, s.SaleDate, s.Total_Amount
            FROM Sales AS s
            WHERE s.Sales_ID == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Sale entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Sale instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Sale);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Sale.Sales_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Sale)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Sale | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Sale | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?, int?>(
                                    dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2), 
                                    dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3)
                                );
                                return 
                                {
                                    Sale instance;
                                    instance = new Sale();
                                    instance.<Sales_ID>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Customer_ID>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SaleDate>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<Total_Amount>k__BackingField = dataReader.GetDecimal(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Sale | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Sale")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Sale)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: DataInsights.API.Data.SQLDatabase, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-29 15:10:15.664 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:10:15.680 +02:00 [DBG] Created DbConnection. (16ms).
2025-09-29 15:10:15.689 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:15.693 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:15.703 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:10:15.706 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-29 15:10:15.716 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-29 15:10:15.723 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:10:15.903 +02:00 [INF] Executed DbCommand (180ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:10:15.907 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:15.910 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-29 15:10:15.922 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:15.927 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (4ms).
2025-09-29 15:10:15.931 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:10:15.939 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:10:15.947 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-29 15:10:15.958 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-29 15:10:16.209 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 15:10:16.214 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) in 635.7911ms
2025-09-29 15:10:16.234 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:10:16.239 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:10:16.635 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:16.812 +02:00 [DBG] Disposed connection to database '' on server '' (176ms).
2025-09-29 15:10:16.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Sales/GetBy1 - 404 null application/problem+json; charset=utf-8 2060.1034ms
2025-09-29 15:10:30.840 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - application/json 56
2025-09-29 15:10:31.370 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/Add-sale'
2025-09-29 15:10:31.750 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)' with route pattern 'api/Sales/Add-sale' is valid for the request path '/api/Sales/Add-sale'
2025-09-29 15:10:31.758 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:10:31.803 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:10:31.820 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:10:31.825 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:10:31.835 +02:00 [INF] Route matched with {action = "AddSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSale(DataInsights.API.DTOs.Sale_DTO) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:10:31.867 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:10:31.885 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:10:31.916 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:10:32.253 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:10:32.259 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:10:32.266 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:10:32.291 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:10:32.302 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:10:32.307 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' using the name '' in request data ...
2025-09-29 15:10:32.310 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:10:32.315 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000009": started reading request body.
2025-09-29 15:10:32.321 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:00000009": done reading request body.
2025-09-29 15:10:32.331 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Sale_DTO'
2025-09-29 15:10:32.343 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:32.352 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:32.354 +02:00 [DBG] Attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:10:32.357 +02:00 [DBG] Done attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:10:32.367 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:10:32.374 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Sale' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:10:32.379 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:10:32.382 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:10:32.384 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:10:32.386 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:10:32.390 +02:00 [DBG] Created DbConnection. (4ms).
2025-09-29 15:10:32.392 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:32.397 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:32.399 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:10:32.403 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-29 15:10:32.406 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-09-29 15:10:32.408 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Sales_ID], [Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-09-29 15:10:32.456 +02:00 [ERR] Failed executing DbCommand (46ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Sales_ID], [Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-09-29 15:10:32.480 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:10:32.482 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (2ms).
2025-09-29 15:10:32.515 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'DataInsights.API.Data.SQLDatabase'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Sales' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47fb7ab0-ffa9-4318-b2d5-dc0996151d88
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Sales' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47fb7ab0-ffa9-4318-b2d5-dc0996151d88
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 15:10:55.272 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API) in 23006.1365ms
2025-09-29 15:10:57.413 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:10:58.465 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Sales' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47fb7ab0-ffa9-4318-b2d5-dc0996151d88
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DataInsights.API.Repository.SalesRepository.AddSaleAsync(Sale sale) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Repository\SalesRepository.cs:line 41
   at DataInsights.API.Services.SaleService.AddSaleAsync(Sale_DTO saleDTO) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Services\SaleService.cs:line 34
   at DataInsights.API.Controllers.SalesController.AddSale(Sale_DTO saleDTO) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Controllers\SalesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-29 15:11:04.147 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:11:04.918 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:11:06.165 +02:00 [DBG] Disposed connection to database '' on server '' (1247ms).
2025-09-29 15:11:06.601 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - application/json 56
2025-09-29 15:11:08.127 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - 500 null text/plain; charset=utf-8 37286.5988ms
2025-09-29 15:11:08.176 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/Add-sale'
2025-09-29 15:11:09.349 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)' with route pattern 'api/Sales/Add-sale' is valid for the request path '/api/Sales/Add-sale'
2025-09-29 15:11:11.703 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:11:13.085 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:11:13.646 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:11:14.116 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:11:14.800 +02:00 [INF] Route matched with {action = "AddSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSale(DataInsights.API.DTOs.Sale_DTO) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:11:15.300 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:11:16.055 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:11:16.187 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:11:16.201 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:11:16.308 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:11:16.352 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:11:16.407 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:11:16.544 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:11:16.641 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' using the name '' in request data ...
2025-09-29 15:11:16.803 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:11:16.901 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:0000000B": started reading request body.
2025-09-29 15:11:17.150 +02:00 [DBG] Connection id "0HNFVB337K53O", Request id "0HNFVB337K53O:0000000B": done reading request body.
2025-09-29 15:11:17.603 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Sale_DTO'
2025-09-29 15:11:18.372 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:11:18.834 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:11:19.196 +02:00 [DBG] Attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:11:19.438 +02:00 [DBG] Done attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:11:19.450 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:11:19.463 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Sale' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:11:19.469 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:11:19.517 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:11:19.787 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:11:20.052 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:11:20.313 +02:00 [DBG] Created DbConnection. (260ms).
2025-09-29 15:11:20.538 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:11:20.683 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:11:20.691 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:11:20.697 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-29 15:11:20.704 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-29 15:11:20.709 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Sales_ID], [Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-09-29 15:11:21.335 +02:00 [ERR] Failed executing DbCommand (626ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Sales_ID], [Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-09-29 15:11:21.543 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:11:22.073 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (530ms).
2025-09-29 15:11:22.365 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'DataInsights.API.Data.SQLDatabase'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Sales' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47fb7ab0-ffa9-4318-b2d5-dc0996151d88
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Sales' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47fb7ab0-ffa9-4318-b2d5-dc0996151d88
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 15:11:43.017 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API) in 26664.178ms
2025-09-29 15:11:43.235 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:11:43.289 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Sales' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47fb7ab0-ffa9-4318-b2d5-dc0996151d88
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DataInsights.API.Repository.SalesRepository.AddSaleAsync(Sale sale) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Repository\SalesRepository.cs:line 41
   at DataInsights.API.Services.SaleService.AddSaleAsync(Sale_DTO saleDTO) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Services\SaleService.cs:line 34
   at DataInsights.API.Controllers.SalesController.AddSale(Sale_DTO saleDTO) in C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API\Controllers\SalesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-29 15:11:48.770 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:11:49.180 +02:00 [DBG] Connection id "0HNFVB337K53O" received FIN.
2025-09-29 15:11:49.620 +02:00 [DBG] Connection id "0HNFVB337K53O" is closed. The last processed stream ID was 11.
2025-09-29 15:11:49.547 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:11:49.706 +02:00 [DBG] Connection id "0HNFVB337K53O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:11:49.751 +02:00 [DBG] Disposed connection to database '' on server '' (203ms).
2025-09-29 15:11:49.907 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - 500 null text/plain; charset=utf-8 43305.7431ms
2025-09-29 15:11:50.033 +02:00 [DBG] The connection queue processing loop for 0HNFVB337K53O completed.
2025-09-29 15:11:50.106 +02:00 [DBG] Connection id "0HNFVB337K53O" stopped.
2025-09-29 15:12:08.108 +02:00 [DBG] Connection id "0HNFVB337K53P" accepted.
2025-09-29 15:12:08.241 +02:00 [DBG] Connection id "0HNFVB337K53P" started.
2025-09-29 15:12:08.256 +02:00 [DBG] Connection 0HNFVB337K53P established using the following protocol: "Tls13"
2025-09-29 15:12:08.259 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - application/json 56
2025-09-29 15:12:08.272 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/Add-sale'
2025-09-29 15:12:08.274 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)' with route pattern 'api/Sales/Add-sale' is valid for the request path '/api/Sales/Add-sale'
2025-09-29 15:12:08.292 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:12:08.300 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:12:08.302 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:12:08.305 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:12:08.307 +02:00 [INF] Route matched with {action = "AddSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSale(DataInsights.API.DTOs.Sale_DTO) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:12:08.309 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:12:08.320 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:12:08.324 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:12:08.339 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:12:08.350 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:12:08.354 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:12:08.359 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:12:08.363 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:12:08.366 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' using the name '' in request data ...
2025-09-29 15:12:08.368 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:12:08.373 +02:00 [DBG] Connection id "0HNFVB337K53P", Request id "0HNFVB337K53P:00000001": started reading request body.
2025-09-29 15:12:08.381 +02:00 [DBG] Connection id "0HNFVB337K53P", Request id "0HNFVB337K53P:00000001": done reading request body.
2025-09-29 15:12:08.387 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Sale_DTO'
2025-09-29 15:12:08.388 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:12:08.390 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:12:08.392 +02:00 [DBG] Attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:12:08.395 +02:00 [DBG] Done attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:12:08.399 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:12:08.404 +02:00 [DBG] 'SQLDatabase' generated a temporary value for the property 'Sale.Sales_ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:12:08.407 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Sale' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:12:08.409 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:12:08.417 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:12:08.420 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:12:08.423 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:12:08.424 +02:00 [DBG] Created DbConnection. (1ms).
2025-09-29 15:12:08.426 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:08.437 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:08.440 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:12:08.447 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-09-29 15:12:08.449 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-29 15:12:08.452 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
OUTPUT INSERTED.[Sales_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-29 15:12:08.506 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
OUTPUT INSERTED.[Sales_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-29 15:12:08.514 +02:00 [DBG] The foreign key property 'Sale.Sales_ID' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-29 15:12:08.516 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:08.518 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-09-29 15:12:08.522 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:08.525 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (2ms).
2025-09-29 15:12:08.529 +02:00 [DBG] An entity of type 'Sale' tracked by 'SQLDatabase' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:12:08.532 +02:00 [DBG] SaveChanges completed for 'SQLDatabase' with 1 entities written to the database.
2025-09-29 15:12:08.535 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:12:08.541 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:12:08.542 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 15:12:08.546 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 15:12:08.548 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 15:12:08.552 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:12:08.554 +02:00 [DBG] Found the endpoints ["DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)"] for address (id=[0],action=[GetSalesById],controller=[Sales])
2025-09-29 15:12:08.557 +02:00 [DBG] Successfully processed template api/Sales/GetBy{id} for DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) resulting in /api/Sales/GetBy0 and 
2025-09-29 15:12:08.559 +02:00 [DBG] Link generation succeeded for endpoints ["DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)"] with result /api/Sales/GetBy0
2025-09-29 15:12:08.565 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API) in 210.5462ms
2025-09-29 15:12:08.570 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:12:08.572 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:12:08.585 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:08.589 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-29 15:12:08.608 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - 201 null application/json; charset=utf-8 348.4994ms
2025-09-29 15:12:16.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Sales/GetBy1 - null null
2025-09-29 15:12:17.308 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/GetBy1'
2025-09-29 15:12:17.329 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)' with route pattern 'api/Sales/GetBy{id}' is valid for the request path '/api/Sales/GetBy1'
2025-09-29 15:12:17.335 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:12:17.338 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:12:17.364 +02:00 [INF] Route matched with {action = "GetSalesById", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSalesById(Int32) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:12:17.373 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:12:17.382 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:12:17.389 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:12:17.401 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:12:17.404 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:12:17.406 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:12:17.417 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:12:17.421 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-29 15:12:17.434 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-29 15:12:17.446 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:12:17.450 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:12:17.458 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-29 15:12:17.462 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-29 15:12:17.465 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:12:17.471 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:12:17.483 +02:00 [DBG] Created DbConnection. (11ms).
2025-09-29 15:12:17.485 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:17.495 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:17.502 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:12:17.504 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-29 15:12:17.508 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-09-29 15:12:17.516 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:12:17.537 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:12:17.554 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:17.558 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-09-29 15:12:17.567 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:17.569 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (2ms).
2025-09-29 15:12:17.572 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:12:17.583 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:12:17.585 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-29 15:12:17.589 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-29 15:12:17.597 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 15:12:17.599 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) in 193.1523ms
2025-09-29 15:12:17.636 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:12:17.638 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:12:17.804 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:12:17.806 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-29 15:12:17.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Sales/GetBy1 - 404 null application/problem+json; charset=utf-8 1106.0238ms
2025-09-29 15:16:29.603 +02:00 [DBG] Connection id "0HNFVB337K53P" received FIN.
2025-09-29 15:16:30.035 +02:00 [DBG] Connection id "0HNFVB337K53P" is closed. The last processed stream ID was 3.
2025-09-29 15:16:30.109 +02:00 [DBG] The connection queue processing loop for 0HNFVB337K53P completed.
2025-09-29 15:16:30.324 +02:00 [DBG] Connection id "0HNFVB337K53P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:16:30.415 +02:00 [DBG] Connection id "0HNFVB337K53P" stopped.
2025-09-29 15:16:43.934 +02:00 [DBG] Connection id "0HNFVB337K53Q" accepted.
2025-09-29 15:16:44.540 +02:00 [DBG] Connection id "0HNFVB337K53Q" started.
2025-09-29 15:16:44.814 +02:00 [DBG] Connection 0HNFVB337K53Q established using the following protocol: "Tls13"
2025-09-29 15:16:44.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Sales/GetBy0 - null null
2025-09-29 15:16:45.004 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/GetBy0'
2025-09-29 15:16:45.038 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)' with route pattern 'api/Sales/GetBy{id}' is valid for the request path '/api/Sales/GetBy0'
2025-09-29 15:16:45.129 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:16:45.140 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:16:45.153 +02:00 [INF] Route matched with {action = "GetSalesById", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSalesById(Int32) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:16:45.168 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:16:45.185 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:16:45.200 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:16:45.233 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:16:45.245 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:16:45.251 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:16:45.265 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:16:45.273 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-29 15:16:45.277 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-29 15:16:45.282 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:16:45.285 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:16:45.288 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-29 15:16:45.290 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-29 15:16:45.301 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:16:45.305 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:16:45.312 +02:00 [DBG] Created DbConnection. (6ms).
2025-09-29 15:16:45.314 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:45.316 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:45.321 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:16:45.326 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-29 15:16:45.329 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-29 15:16:45.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:16:45.353 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:16:45.364 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:45.384 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-09-29 15:16:45.389 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:45.399 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (9ms).
2025-09-29 15:16:45.404 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:16:45.423 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:16:45.522 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-29 15:16:45.553 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-29 15:16:45.556 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 15:16:45.564 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) in 313.4701ms
2025-09-29 15:16:45.574 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:16:45.579 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:16:45.801 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:45.805 +02:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-29 15:16:45.815 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Sales/GetBy0 - 404 null application/problem+json; charset=utf-8 914.5441ms
2025-09-29 15:16:56.953 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - application/json 58
2025-09-29 15:16:57.005 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/Add-sale'
2025-09-29 15:16:57.008 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)' with route pattern 'api/Sales/Add-sale' is valid for the request path '/api/Sales/Add-sale'
2025-09-29 15:16:57.013 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:16:57.016 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:16:57.018 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:16:57.020 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:16:57.022 +02:00 [INF] Route matched with {action = "AddSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSale(DataInsights.API.DTOs.Sale_DTO) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:16:57.033 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:16:57.036 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:16:57.038 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:16:57.045 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:16:57.047 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:16:57.050 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:16:57.052 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:16:57.067 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:16:57.071 +02:00 [DBG] Attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' using the name '' in request data ...
2025-09-29 15:16:57.073 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:16:57.078 +02:00 [DBG] Connection id "0HNFVB337K53Q", Request id "0HNFVB337K53Q:00000003": started reading request body.
2025-09-29 15:16:57.082 +02:00 [DBG] Connection id "0HNFVB337K53Q", Request id "0HNFVB337K53Q:00000003": done reading request body.
2025-09-29 15:16:57.084 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Sale_DTO'
2025-09-29 15:16:57.085 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:16:57.087 +02:00 [DBG] Done attempting to bind parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:16:57.089 +02:00 [DBG] Attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO' ...
2025-09-29 15:16:57.091 +02:00 [DBG] Done attempting to validate the bound parameter 'saleDTO' of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:16:57.099 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:16:57.102 +02:00 [DBG] 'SQLDatabase' generated a temporary value for the property 'Sale.Sales_ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:16:57.105 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Sale' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:16:57.107 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:16:57.113 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:16:57.116 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:16:57.118 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:16:57.119 +02:00 [DBG] Created DbConnection. (1ms).
2025-09-29 15:16:57.124 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:57.128 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:57.130 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:16:57.132 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-29 15:16:57.137 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-09-29 15:16:57.140 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
OUTPUT INSERTED.[Sales_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-29 15:16:57.160 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sales] ([Customer_ID], [Customer_customerID], [Product_ID], [Quantity], [SaleDate], [Total_Amount])
OUTPUT INSERTED.[Sales_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-29 15:16:57.168 +02:00 [DBG] The foreign key property 'Sale.Sales_ID' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-29 15:16:57.171 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:57.174 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-09-29 15:16:57.180 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:57.183 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (2ms).
2025-09-29 15:16:57.186 +02:00 [DBG] An entity of type 'Sale' tracked by 'SQLDatabase' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:16:57.196 +02:00 [DBG] SaveChanges completed for 'SQLDatabase' with 1 entities written to the database.
2025-09-29 15:16:57.198 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:16:57.218 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:16:57.220 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 15:16:57.222 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 15:16:57.223 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 15:16:57.232 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'DataInsights.API.DTOs.Sale_DTO'.
2025-09-29 15:16:57.235 +02:00 [DBG] Found the endpoints ["DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)"] for address (id=[0],action=[GetSalesById],controller=[Sales])
2025-09-29 15:16:57.238 +02:00 [DBG] Successfully processed template api/Sales/GetBy{id} for DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) resulting in /api/Sales/GetBy0 and 
2025-09-29 15:16:57.240 +02:00 [DBG] Link generation succeeded for endpoints ["DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)"] with result /api/Sales/GetBy0
2025-09-29 15:16:57.262 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API) in 212.7309ms
2025-09-29 15:16:57.270 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.AddSale (DataInsights.API)'
2025-09-29 15:16:57.272 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:16:57.352 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:16:57.354 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-29 15:16:57.356 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5293/api/Sales/Add-sale - 201 null application/json; charset=utf-8 403.361ms
2025-09-29 15:17:18.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Sales/GetBy0 - null null
2025-09-29 15:17:18.948 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Sales/GetBy0'
2025-09-29 15:17:18.952 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)' with route pattern 'api/Sales/GetBy{id}' is valid for the request path '/api/Sales/GetBy0'
2025-09-29 15:17:18.955 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:17:18.961 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:17:18.963 +02:00 [INF] Route matched with {action = "GetSalesById", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSalesById(Int32) on controller DataInsights.API.Controllers.SalesController (DataInsights.API).
2025-09-29 15:17:18.967 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:17:18.969 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:17:18.974 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:17:18.980 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:17:18.983 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:17:18.985 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:17:18.995 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.SalesController (DataInsights.API)
2025-09-29 15:17:18.998 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-29 15:17:19.000 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-29 15:17:19.005 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:17:19.007 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-29 15:17:19.011 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-29 15:17:19.013 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-29 15:17:19.016 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:17:19.027 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:17:19.054 +02:00 [DBG] Created DbConnection. (26ms).
2025-09-29 15:17:19.056 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:17:19.058 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:17:19.068 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:17:19.070 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-29 15:17:19.072 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-29 15:17:19.074 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:17:19.086 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Sales_ID], [s].[Customer_ID], [s].[Customer_customerID], [s].[Product_ID], [s].[Quantity], [s].[SaleDate], [s].[Total_Amount]
FROM [Sales] AS [s]
WHERE [s].[Sales_ID] = @__p_0
2025-09-29 15:17:19.094 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:17:19.096 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-09-29 15:17:19.098 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:17:19.102 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (3ms).
2025-09-29 15:17:19.105 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:17:19.109 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:17:19.111 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-29 15:17:19.117 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-29 15:17:19.119 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 15:17:19.121 +02:00 [INF] Executed action DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API) in 135.9627ms
2025-09-29 15:17:19.127 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.SalesController.GetSalesById (DataInsights.API)'
2025-09-29 15:17:19.131 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:17:19.137 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:17:19.139 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-29 15:17:19.165 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Sales/GetBy0 - 404 null application/problem+json; charset=utf-8 254.3088ms
2025-09-29 15:19:50.003 +02:00 [DBG] Connection id "0HNFVB337K53Q" received FIN.
2025-09-29 15:19:50.155 +02:00 [DBG] Connection id "0HNFVB337K53Q" is closed. The last processed stream ID was 5.
2025-09-29 15:19:50.225 +02:00 [DBG] The connection queue processing loop for 0HNFVB337K53Q completed.
2025-09-29 15:19:50.603 +02:00 [DBG] Connection id "0HNFVB337K53Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:19:50.617 +02:00 [DBG] Connection id "0HNFVB337K53Q" stopped.
2025-09-29 15:46:13.491 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-29 15:46:18.807 +02:00 [DBG] Hosting starting
2025-09-29 15:46:18.962 +02:00 [DBG] Middleware loaded
2025-09-29 15:46:19.381 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16517 B).
2025-09-29 15:46:19.411 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-29 15:46:19.782 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-29 15:46:21.357 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-29 15:46:21.434 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-29 15:46:21.943 +02:00 [INF] Now listening on: https://localhost:5293
2025-09-29 15:46:25.185 +02:00 [DBG] Connection id "0HNFVBQ9MK5MM" accepted.
2025-09-29 15:46:22.169 +02:00 [DBG] Connection id "0HNFVBQ9MK5ML" received FIN.
2025-09-29 15:46:27.071 +02:00 [DBG] Loaded hosting startup assembly DataInsights.API
2025-09-29 15:46:31.775 +02:00 [DBG] Connection id "0HNFVBQ9MK5MM" started.
2025-09-29 15:46:33.863 +02:00 [DBG] Connection id "0HNFVBQ9MK5ML" accepted.
2025-09-29 15:46:36.026 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-29 15:46:37.535 +02:00 [DBG] Connection id "0HNFVBQ9MK5MN" received FIN.
2025-09-29 15:46:31.903 +02:00 [DBG] Connection id "0HNFVBQ9MK5MN" accepted.
2025-09-29 15:46:37.678 +02:00 [DBG] Connection 0HNFVBQ9MK5MM established using the following protocol: "Tls13"
2025-09-29 15:46:38.220 +02:00 [DBG] Connection id "0HNFVBQ9MK5ML" started.
2025-09-29 15:46:38.230 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-29 15:46:40.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_vs/browserLink - null null
2025-09-29 15:46:38.867 +02:00 [DBG] Connection id "0HNFVBQ9MK5MN" started.
2025-09-29 15:46:40.262 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-29 15:46:40.250 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:46:41.866 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 15:46:41.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1165.3548ms
2025-09-29 15:46:40.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:46:42.582 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:46:42.932 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-29 15:46:42.692 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 15:46:42.676 +02:00 [DBG] Connection id "0HNFVBQ9MK5ML" stopped.
2025-09-29 15:46:43.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 2888.4667ms
2025-09-29 15:46:43.701 +02:00 [DBG] Connection id "0HNFVBQ9MK5MN" stopped.
2025-09-29 15:46:45.138 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 15:46:46.219 +02:00 [DBG] Connection id "0HNFVBQ9MK5ML" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:46:49.465 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - null null
2025-09-29 15:46:50.369 +02:00 [DBG] Connection id "0HNFVBQ9MK5MN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:46:50.402 +02:00 [INF] Hosting environment: Development
2025-09-29 15:46:50.616 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-29 15:46:50.693 +02:00 [INF] Content root path: C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API
2025-09-29 15:46:50.717 +02:00 [DBG] Request did not match any endpoints
2025-09-29 15:46:50.732 +02:00 [DBG] Hosting started
2025-09-29 15:46:50.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1327.4241ms
2025-09-29 15:46:52.817 +02:00 [DBG] Connection id "0HNFVBQ9MK5MM" received FIN.
2025-09-29 15:46:52.856 +02:00 [DBG] Connection id "0HNFVBQ9MK5MM" is closed. The last processed stream ID was 5.
2025-09-29 15:46:52.869 +02:00 [DBG] The connection queue processing loop for 0HNFVBQ9MK5MM completed.
2025-09-29 15:46:52.908 +02:00 [DBG] Connection id "0HNFVBQ9MK5MM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:46:52.990 +02:00 [DBG] Connection id "0HNFVBQ9MK5MM" stopped.
2025-09-29 15:47:24.406 +02:00 [DBG] Connection id "0HNFVBQ9MK5MO" accepted.
2025-09-29 15:47:24.417 +02:00 [DBG] Connection id "0HNFVBQ9MK5MO" started.
2025-09-29 15:47:24.430 +02:00 [DBG] Connection 0HNFVBQ9MK5MO established using the following protocol: "Tls13"
2025-09-29 15:47:24.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Product_/All-sales - null null
2025-09-29 15:47:24.585 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Product_/All-sales'
2025-09-29 15:47:24.589 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)' with route pattern 'api/Product_/All-sales' is valid for the request path '/api/Product_/All-sales'
2025-09-29 15:47:24.595 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)' with route pattern 'api/Product_/{id}' is valid for the request path '/api/Product_/All-sales'
2025-09-29 15:47:24.600 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 15:47:24.654 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 15:47:24.761 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DataInsights.API.DTOs.Product_DTO]]] GetAllProducts() on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 15:47:24.817 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:47:24.833 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:47:24.903 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:47:24.907 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:47:24.923 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:47:24.938 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:47:25.372 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-29 15:47:25.699 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-29 15:47:25.706 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:47:25.716 +02:00 [INF] Retrieving all products....
2025-09-29 15:47:29.943 +02:00 [DBG] The property 'Sale.Customer_customerID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 15:47:29.950 +02:00 [DBG] The property 'Sale.Product_ID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 15:47:30.526 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:47:31.158 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()'
2025-09-29 15:47:32.849 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DataInsights.API.Data.SQLDatabase, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-29 15:47:33.059 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:47:33.438 +02:00 [DBG] Created DbConnection. (314ms).
2025-09-29 15:47:34.126 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:47:36.980 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:47:36.989 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:47:37.002 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-09-29 15:47:37.233 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (245ms).
2025-09-29 15:47:37.290 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 15:47:40.524 +02:00 [INF] Executed DbCommand (3,226ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 15:47:40.837 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:47:40.912 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:47:40.915 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:47:40.918 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:47:40.933 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:47:40.965 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 383ms reading results.
2025-09-29 15:47:40.972 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:47:40.998 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (19ms).
2025-09-29 15:47:41.037 +02:00 [INF] Retrieved 4 products from the repository.
2025-09-29 15:47:41.101 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:47:41.110 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-29 15:47:41.120 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-29 15:47:41.126 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 15:47:41.132 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 15:47:41.401 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 15:47:41.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DataInsights.API.DTOs.Product_DTO, DataInsights.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:47:41.975 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API) in 16890.9256ms
2025-09-29 15:47:42.067 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 15:47:42.079 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:47:42.123 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:47:42.151 +02:00 [DBG] Disposed connection to database '' on server '' (38ms).
2025-09-29 15:47:42.158 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Product_/All-sales - 200 null application/json; charset=utf-8 17708.6657ms
2025-09-29 15:48:17.925 +02:00 [DBG] Connection id "0HNFVBQ9MK5MO" received FIN.
2025-09-29 15:48:17.952 +02:00 [DBG] Connection id "0HNFVBQ9MK5MO" is closed. The last processed stream ID was 1.
2025-09-29 15:48:17.952 +02:00 [DBG] The connection queue processing loop for 0HNFVBQ9MK5MO completed.
2025-09-29 15:48:17.958 +02:00 [DBG] Connection id "0HNFVBQ9MK5MO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:48:17.978 +02:00 [DBG] Connection id "0HNFVBQ9MK5MO" stopped.
2025-09-29 15:54:44.859 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-29 15:54:48.084 +02:00 [DBG] Hosting starting
2025-09-29 15:54:48.517 +02:00 [DBG] Middleware loaded
2025-09-29 15:54:48.598 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16517 B).
2025-09-29 15:54:49.359 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-29 15:54:49.723 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-09-29 15:54:49.775 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-29 15:54:49.832 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-29 15:54:51.306 +02:00 [INF] Now listening on: https://localhost:5293
2025-09-29 15:54:52.240 +02:00 [DBG] Loaded hosting startup assembly DataInsights.API
2025-09-29 15:54:52.961 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-29 15:54:53.633 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-29 15:54:54.172 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-29 15:54:54.486 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 15:54:54.568 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-09-29 15:54:54.753 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 15:54:54.761 +02:00 [INF] Hosting environment: Development
2025-09-29 15:54:54.764 +02:00 [INF] Content root path: C:\Users\Lihle\OneDrive\Documents\Siphelele Zonke\DataInsights.API\DataInsights.API
2025-09-29 15:54:55.263 +02:00 [DBG] Connection id "0HNFVBV2JRSG3" received FIN.
2025-09-29 15:54:55.634 +02:00 [DBG] Hosting started
2025-09-29 15:54:56.768 +02:00 [DBG] Connection id "0HNFVBV2JRSG3" accepted.
2025-09-29 15:54:56.819 +02:00 [DBG] Connection id "0HNFVBV2JRSG4" accepted.
2025-09-29 15:55:00.216 +02:00 [DBG] Connection id "0HNFVBV2JRSG3" started.
2025-09-29 15:55:02.378 +02:00 [DBG] Connection id "0HNFVBV2JRSG4" started.
2025-09-29 15:55:02.437 +02:00 [DBG] Connection id "0HNFVBV2JRSG5" accepted.
2025-09-29 15:55:02.600 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:55:08.017 +02:00 [DBG] Connection 0HNFVBV2JRSG4 established using the following protocol: "Tls13"
2025-09-29 15:55:03.515 +02:00 [DBG] Connection id "0HNFVBV2JRSG5" received FIN.
2025-09-29 15:55:12.452 +02:00 [DBG] Connection id "0HNFVBV2JRSG3" stopped.
2025-09-29 15:55:07.870 +02:00 [DBG] Connection id "0HNFVBV2JRSG5" started.
2025-09-29 15:55:12.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:55:13.869 +02:00 [DBG] Connection id "0HNFVBV2JRSG3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:55:12.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/_vs/browserLink - null null
2025-09-29 15:55:13.898 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-29 15:55:14.749 +02:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-29 15:55:18.384 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5563.5072ms
2025-09-29 15:55:19.382 +02:00 [DBG] Connection id "0HNFVBV2JRSG5" stopped.
2025-09-29 15:55:19.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 6666.9813ms
2025-09-29 15:55:22.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - null null
2025-09-29 15:55:24.258 +02:00 [DBG] Connection id "0HNFVBV2JRSG5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:55:24.654 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-29 15:55:24.704 +02:00 [DBG] Request did not match any endpoints
2025-09-29 15:55:25.083 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2243.6447ms
2025-09-29 15:55:28.985 +02:00 [DBG] Connection id "0HNFVBV2JRSG4" received FIN.
2025-09-29 15:55:29.035 +02:00 [DBG] The connection queue processing loop for 0HNFVBV2JRSG4 completed.
2025-09-29 15:55:29.038 +02:00 [DBG] Connection id "0HNFVBV2JRSG4" is closed. The last processed stream ID was 5.
2025-09-29 15:55:29.044 +02:00 [DBG] Connection id "0HNFVBV2JRSG4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:55:29.059 +02:00 [DBG] Connection id "0HNFVBV2JRSG4" stopped.
2025-09-29 15:56:06.757 +02:00 [DBG] Connection id "0HNFVBV2JRSG6" accepted.
2025-09-29 15:56:06.800 +02:00 [DBG] Connection id "0HNFVBV2JRSG6" started.
2025-09-29 15:56:06.890 +02:00 [DBG] Connection 0HNFVBV2JRSG6 established using the following protocol: "Tls13"
2025-09-29 15:56:06.920 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5293/sales/add - application/json 75
2025-09-29 15:56:06.951 +02:00 [DBG] 1 candidate(s) found for the request path '/sales/add'
2025-09-29 15:56:06.958 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.AddProduct (DataInsights.API)' with route pattern 'sales/add' is valid for the request path '/sales/add'
2025-09-29 15:56:07.058 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.AddProduct (DataInsights.API)'
2025-09-29 15:56:07.501 +02:00 [DBG] The request has an origin header: 'https://localhost:5293'.
2025-09-29 15:56:07.895 +02:00 [INF] CORS policy execution successful.
2025-09-29 15:56:08.362 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.AddProduct (DataInsights.API)'
2025-09-29 15:56:08.872 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(DataInsights.API.DTOs.Product_DTO) on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 15:56:09.100 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:56:09.635 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:56:09.922 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:56:09.928 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:56:09.933 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:56:09.939 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:56:10.772 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-29 15:56:11.830 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-29 15:56:12.020 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:56:12.157 +02:00 [DBG] Attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' ...
2025-09-29 15:56:12.255 +02:00 [DBG] Attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' using the name '' in request data ...
2025-09-29 15:56:12.490 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-29 15:56:12.583 +02:00 [DBG] Connection id "0HNFVBV2JRSG6", Request id "0HNFVBV2JRSG6:00000001": started reading request body.
2025-09-29 15:56:12.829 +02:00 [DBG] Connection id "0HNFVBV2JRSG6", Request id "0HNFVBV2JRSG6:00000001": done reading request body.
2025-09-29 15:56:12.885 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'DataInsights.API.DTOs.Product_DTO'
2025-09-29 15:56:12.901 +02:00 [DBG] Done attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:56:12.903 +02:00 [DBG] Done attempting to bind parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:56:12.908 +02:00 [DBG] Attempting to validate the bound parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO' ...
2025-09-29 15:56:12.950 +02:00 [DBG] Done attempting to validate the bound parameter 'productDTO' of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:56:13.171 +02:00 [INF] New product added with ID {"Product_ID":0,"Product_Name":"Nocta trackpants","Product_Description":null,"Price":120,"Quantity":0,"Sales":null,"$type":"Product"}.
2025-09-29 15:56:15.950 +02:00 [DBG] The property 'Sale.Customer_customerID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 15:56:16.049 +02:00 [DBG] The property 'Sale.Product_ID' was created in shadow state because there are no eligible CLR members with a matching name.
2025-09-29 15:56:16.905 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:56:17.273 +02:00 [DBG] 'SQLDatabase' generated a temporary value for the property 'Product.Product_ID'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:17.612 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:17.945 +02:00 [DBG] SaveChanges starting for 'SQLDatabase'.
2025-09-29 15:56:18.014 +02:00 [DBG] DetectChanges starting for 'SQLDatabase'.
2025-09-29 15:56:18.065 +02:00 [DBG] DetectChanges completed for 'SQLDatabase'.
2025-09-29 15:56:18.666 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:56:19.127 +02:00 [DBG] Created DbConnection. (513ms).
2025-09-29 15:56:19.139 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:21.907 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:22.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:56:22.122 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2025-09-29 15:56:22.204 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (99ms).
2025-09-29 15:56:22.553 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Price], [Product_Description], [Product_Name], [Quantity])
OUTPUT INSERTED.[Product_ID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 15:56:24.369 +02:00 [INF] Executed DbCommand (1,797ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Price], [Product_Description], [Product_Name], [Quantity])
OUTPUT INSERTED.[Product_ID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 15:56:24.550 +02:00 [DBG] The foreign key property 'Product.Product_ID' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-29 15:56:24.625 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:24.917 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 448ms reading results.
2025-09-29 15:56:24.967 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:25.053 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (81ms).
2025-09-29 15:56:25.116 +02:00 [DBG] An entity of type 'Product' tracked by 'SQLDatabase' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:25.154 +02:00 [DBG] SaveChanges completed for 'SQLDatabase' with 1 entities written to the database.
2025-09-29 15:56:25.201 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:56:25.688 +02:00 [DBG] No information found on request to perform content negotiation.
2025-09-29 15:56:25.737 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 15:56:25.741 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 15:56:25.747 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 15:56:25.916 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'DataInsights.API.DTOs.Product_DTO'.
2025-09-29 15:56:26.050 +02:00 [DBG] Found the endpoints ["DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)"] for address (id=[0],action=[GetProductById],controller=[Product_])
2025-09-29 15:56:26.257 +02:00 [DBG] Successfully processed template api/Product_/{id} for DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API) resulting in /api/Product_/0 and 
2025-09-29 15:56:26.270 +02:00 [DBG] Link generation succeeded for endpoints ["DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)"] with result /api/Product_/0
2025-09-29 15:56:26.314 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.AddProduct (DataInsights.API) in 16359.7619ms
2025-09-29 15:56:26.320 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.AddProduct (DataInsights.API)'
2025-09-29 15:56:26.386 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:56:26.780 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:26.784 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-29 15:56:26.790 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5293/sales/add - 201 null application/json; charset=utf-8 19870.2795ms
2025-09-29 15:56:34.239 +02:00 [DBG] Connection id "0HNFVBV2JRSG6" received FIN.
2025-09-29 15:56:34.989 +02:00 [DBG] Connection id "0HNFVBV2JRSG6" is closed. The last processed stream ID was 1.
2025-09-29 15:56:34.992 +02:00 [DBG] The connection queue processing loop for 0HNFVBV2JRSG6 completed.
2025-09-29 15:56:35.634 +02:00 [DBG] Connection id "0HNFVBV2JRSG6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:56:35.653 +02:00 [DBG] Connection id "0HNFVBV2JRSG6" stopped.
2025-09-29 15:56:35.882 +02:00 [DBG] Connection id "0HNFVBV2JRSG7" accepted.
2025-09-29 15:56:35.913 +02:00 [DBG] Connection id "0HNFVBV2JRSG7" started.
2025-09-29 15:56:36.002 +02:00 [DBG] Connection 0HNFVBV2JRSG7 established using the following protocol: "Tls13"
2025-09-29 15:56:36.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5293/api/Product_/All-sales - null null
2025-09-29 15:56:37.396 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Product_/All-sales'
2025-09-29 15:56:37.554 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)' with route pattern 'api/Product_/All-sales' is valid for the request path '/api/Product_/All-sales'
2025-09-29 15:56:37.577 +02:00 [DBG] Endpoint 'DataInsights.API.Controllers.Product_Controller.GetProductById (DataInsights.API)' with route pattern 'api/Product_/{id}' is valid for the request path '/api/Product_/All-sales'
2025-09-29 15:56:37.591 +02:00 [DBG] Request matched endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 15:56:37.617 +02:00 [INF] Executing endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 15:56:37.630 +02:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product_"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DataInsights.API.DTOs.Product_DTO]]] GetAllProducts() on controller DataInsights.API.Controllers.Product_Controller (DataInsights.API).
2025-09-29 15:56:37.635 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-29 15:56:37.650 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-29 15:56:37.657 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-29 15:56:37.669 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-29 15:56:37.673 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-29 15:56:37.691 +02:00 [DBG] Executing controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:56:37.949 +02:00 [DBG] Executed controller factory for controller DataInsights.API.Controllers.Product_Controller (DataInsights.API)
2025-09-29 15:56:37.990 +02:00 [INF] Retrieving all products....
2025-09-29 15:56:40.735 +02:00 [DBG] Entity Framework Core 9.0.9 initialized 'SQLDatabase' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: EngineType=SqlServer 
2025-09-29 15:56:42.559 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()'
2025-09-29 15:56:46.683 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Product_ID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Price (decimal) Required, 1], [Property: Product.Product_Description (string), 2], [Property: Product.Product_Name (string), 3], [Property: Product.Quantity (int) Required, 4] }
        SELECT p.Product_ID, p.Price, p.Product_Description, p.Product_Name, p.Quantity
        FROM Products AS p, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Product_ID PK | Resolver: c => c.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Product_ID>k__BackingField = dataReader.GetInt32(0);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Product_Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Product_Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("DataInsights.API.Models.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: DataInsights.API.Data.SQLDatabase, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-29 15:56:46.960 +02:00 [DBG] Creating DbConnection.
2025-09-29 15:56:47.058 +02:00 [DBG] Created DbConnection. (98ms).
2025-09-29 15:56:47.067 +02:00 [DBG] Opening connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:47.078 +02:00 [DBG] Opened connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:47.085 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-29 15:56:47.098 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-09-29 15:56:47.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-09-29 15:56:47.122 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 15:56:47.341 +02:00 [INF] Executed DbCommand (220ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Product_ID], [p].[Price], [p].[Product_Description], [p].[Product_Name], [p].[Quantity]
FROM [Products] AS [p]
2025-09-29 15:56:47.467 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:47.473 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:47.483 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:47.486 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:47.498 +02:00 [DBG] Context 'SQLDatabase' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-29 15:56:47.849 +02:00 [DBG] Closing data reader to 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:47.970 +02:00 [DBG] A data reader for 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' is being disposed after spending 526ms reading results.
2025-09-29 15:56:47.973 +02:00 [DBG] Closing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:47.981 +02:00 [DBG] Closed connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS' (7ms).
2025-09-29 15:56:47.985 +02:00 [INF] Retrieved 5 products from the repository.
2025-09-29 15:56:48.046 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-29 15:56:48.491 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-29 15:56:48.524 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-29 15:56:48.575 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-29 15:56:48.581 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-29 15:56:48.590 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-29 15:56:48.605 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DataInsights.API.DTOs.Product_DTO, DataInsights.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:56:48.654 +02:00 [INF] Executed action DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API) in 10963.3875ms
2025-09-29 15:56:48.682 +02:00 [INF] Executed endpoint 'DataInsights.API.Controllers.Product_Controller.GetAllProducts (DataInsights.API)'
2025-09-29 15:56:48.691 +02:00 [DBG] 'SQLDatabase' disposed.
2025-09-29 15:56:49.154 +02:00 [DBG] Disposing connection to database 'DataInsightsDB' on server 'LIHLE\SQLEXPRESS'.
2025-09-29 15:56:49.160 +02:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-29 15:56:49.171 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5293/api/Product_/All-sales - 200 null application/json; charset=utf-8 12283.3383ms
2025-09-29 15:56:54.060 +02:00 [DBG] Connection id "0HNFVBV2JRSG7" received FIN.
2025-09-29 15:56:54.070 +02:00 [DBG] Connection id "0HNFVBV2JRSG7" is closed. The last processed stream ID was 1.
2025-09-29 15:56:54.070 +02:00 [DBG] The connection queue processing loop for 0HNFVBV2JRSG7 completed.
2025-09-29 15:56:54.074 +02:00 [DBG] Connection id "0HNFVBV2JRSG7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-29 15:56:54.096 +02:00 [DBG] Connection id "0HNFVBV2JRSG7" stopped.
